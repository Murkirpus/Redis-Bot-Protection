<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MurKir Security v3.8 - –ü–æ–ª–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</title>
    <style>
        :root {
            --bg-body: #121212;
            --bg-card: #1e1e1e;
            --bg-nav: #252525;
            --text-main: #e0e0e0;
            --text-muted: #a0a0a0;
            --accent: #3d91ff;
            --success: #00cc66;
            --danger: #ff4d4d;
            --warning: #ffaa00;
            --purple: #9b59b6;
            --code-bg: #2a2a2a;
            --border: #333;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }
        .container { max-width: 1100px; margin: 0 auto; padding: 20px; }
        
        /* Header & Nav */
        header { text-align: center; padding: 40px 0; border-bottom: 1px solid var(--border); margin-bottom: 40px; }
        h1 { margin: 0; color: var(--accent); font-size: 2.5rem; }
        .subtitle { color: var(--text-muted); font-size: 1.1rem; margin-top: 10px; }
        
        .nav-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 10px; margin-bottom: 30px; }
        .nav-btn { background: var(--bg-card); padding: 12px; text-align: center; text-decoration: none; color: var(--text-main); border: 1px solid var(--border); border-radius: 8px; transition: 0.2s; font-weight: 500; font-size: 0.9rem; }
        .nav-btn:hover { border-color: var(--accent); background: var(--bg-nav); color: var(--accent); }

        /* Cards */
        .card { background: var(--bg-card); border-radius: 12px; padding: 30px; margin-bottom: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.3); border: 1px solid var(--border); }
        h2 { color: #fff; border-bottom: 2px solid var(--accent); padding-bottom: 10px; margin-top: 0; }
        h3 { color: var(--text-main); margin-top: 25px; font-weight: 600; font-size: 1.2rem; }
        h4 { color: var(--accent); margin-top: 15px; margin-bottom: 5px; }

        /* Tables */
        .compare-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        .compare-table th, .compare-table td { padding: 12px; border: 1px solid #333; text-align: left; }
        .compare-table th { background: #252525; color: var(--accent); }
        .compare-table td { vertical-align: top; }
        .check-ok { color: var(--success); font-weight: bold; }
        .check-bad { color: var(--danger); font-weight: bold; }

        /* Code & Alerts */
        code { font-family: 'Fira Code', 'Consolas', monospace; background: var(--code-bg); padding: 2px 6px; border-radius: 4px; color: #ff9d00; font-size: 0.9em; }
        pre { background: #000; padding: 15px; border-radius: 8px; overflow-x: auto; border: 1px solid var(--border); color: #a5d6ff; font-size: 0.85rem; white-space: pre-wrap; word-break: break-all; }
        
        .badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 0.75em; font-weight: bold; text-transform: uppercase; margin-left: 10px; }
        .b-blue { background: rgba(61, 145, 255, 0.2); color: var(--accent); }
        .b-green { background: rgba(0, 204, 102, 0.2); color: var(--success); }
        .b-red { background: rgba(255, 77, 77, 0.2); color: var(--danger); }
        .b-orange { background: rgba(255, 170, 0, 0.2); color: var(--warning); }
        .b-purple { background: rgba(155, 89, 182, 0.2); color: var(--purple); }

        .alert { padding: 15px; border-left: 4px solid var(--warning); background: rgba(255, 170, 0, 0.1); margin: 20px 0; border-radius: 0 4px 4px 0; }
        .alert-danger { border-left-color: var(--danger); background: rgba(255, 77, 77, 0.1); }
        
        footer { text-align: center; margin-top: 50px; color: var(--text-muted); font-size: 0.9rem; border-top: 1px solid var(--border); padding-top: 20px; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>üõ°Ô∏è MurKir Security</h1>
        <div class="subtitle">–°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã —Å–∞–π—Ç–∞ –æ—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã—Ö –±–æ—Ç–æ–≤ –∏ DDoS-–∞—Ç–∞–∫ (v3.8 Lite)</div>
    </header>

    <div class="nav-grid">
        <a href="#about" class="nav-btn">–û —Å–∏—Å—Ç–µ–º–µ</a>
        <a href="#redis" class="nav-btn" style="border-color: var(--warning); color:var(--warning)">1. Redis (–í–∞–∂–Ω–æ)</a>
        <a href="#files" class="nav-btn">2. –§–∞–π–ª—ã</a>
        <a href="#install" class="nav-btn">3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞</a>
        <a href="#api" class="nav-btn" style="color:var(--danger)">4. PRO: API Sudoers</a>
        <a href="#cron" class="nav-btn" style="color:var(--purple)">5. PRO: CRON</a>
    </div>

    <div id="about" class="card">
        <h2>üöÄ –ß—Ç–æ —ç—Ç–æ –∏ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h2>
        <p>–≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ PHP + Redis. –°–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è <strong>–¥–æ</strong> —Ç–æ–≥–æ, –∫–∞–∫ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è CMS, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –£ –Ω–µ–≥–æ –µ—Å—Ç—å –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã.</p>

        <h3>–†–µ–∂–∏–º—ã –∑–∞—â–∏—Ç—ã:</h3>
        <table class="compare-table">
            <thead>
                <tr>
                    <th>–†–µ–∂–∏–º</th>
                    <th>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</th>
                    <th>–ü—Ä–∏–Ω—Ü–∏–ø –¥–µ–π—Å—Ç–≤–∏—è</th>
                    <th>–ù–∞–≥—Ä—É–∑–∫–∞</th>
                    <th>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>–õ–µ–≥–∫–∏–π</strong></td>
                    <td>PHP + Redis</td>
                    <td>–í—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É <code>503</code> (Soft Ban).</td>
                    <td class="check-bad">–°—Ä–µ–¥–Ω—è—è</td>
                    <td>–û–±—ã—á–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥</td>
                </tr>
                <tr>
                    <td><strong>PRO</strong></td>
                    <td>PHP + Redis + API</td>
                    <td>–ü–æ–ª–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–µ—Ç–∏ <code>iptables DROP</code> (Hard Ban).</td>
                    <td class="check-ok">–ù—É–ª–µ–≤–∞—è</td>
                    <td>VPS / Root</td>
                </tr>
            </tbody>
        </table>
        
        <p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ PRO —Ä–µ–∂–∏–º–∞:</strong> –ü—Ä–∏ –∞—Ç–∞–∫–µ –≤ 10,000 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫, –æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º –∑–∞—Å—Ç–∞–≤–∏—Ç PHP –æ—Ç–≤–µ—á–∞—Ç—å 10,000 —Ä–∞–∑ –æ—à–∏–±–∫–æ–π 403. PRO —Ä–µ–∂–∏–º –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç IP –Ω–∞ —É—Ä–æ–≤–Ω–µ —è–¥—Ä–∞ Linux, –∏ PHP –¥–∞–∂–µ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è.</p>
    </div>

    <div id="redis" class="card" style="border-color: var(--warning);">
        <h2 style="color:var(--warning); border-color: var(--warning);">üîã –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis (–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</h2>
        <p>–ë–µ–∑ Redis –∑–∞—â–∏—Ç–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç. Redis —Ö—Ä–∞–Ω–∏—Ç —Å–ø–∏—Å–∫–∏ –±–∞–Ω–æ–≤ –∏ —Å—á–µ—Ç—á–∏–∫–∏.</p>

        <h3>1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞</h3>
        <pre>
# Ubuntu / Debian:
sudo apt update && sudo apt install redis-server

# CentOS / AlmaLinux:
sudo yum install redis
        </pre>

        <h3>2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ!)</h3>
        <p>–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫: <code>sudo nano /etc/redis/redis.conf</code></p>
        <p>–ù–∞–π–¥–∏—Ç–µ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ (–∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ) —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏, —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä –Ω–µ —É–ø–∞–ª –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:</p>
        <pre>
# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (10mb –¥–ª—è –º–∞–ª—ã—Ö —Å–∞–π—Ç–æ–≤, 50-100mb –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö)
maxmemory 10mb

# –ü–æ–ª–∏—Ç–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è: —É–¥–∞–ª—è—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–ª—é—á–∏, –∫–æ–≥–¥–∞ –ø–∞–º—è—Ç—å –ø–æ–ª–Ω–∞
maxmemory-policy allkeys-lru

# –¢–æ—á–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏
maxmemory-samples 10
        </pre>
        <p>–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Redis: <code>sudo systemctl restart redis</code></p>

        <h3>3. –†–∞—Å—á–µ—Ç –ø–∞–º—è—Ç–∏</h3>
        <table class="compare-table">
            <tr>
                <td>–û–±—ã—á–Ω—ã–π —Å–∞–π—Ç</td>
                <td><code>10mb</code> (~40k –∑–∞–ø–∏—Å–µ–π)</td>
            </tr>
            <tr>
                <td>–ö—Ä—É–ø–Ω—ã–π –ø–æ—Ä—Ç–∞–ª</td>
                <td><code>50mb</code> (~200k –∑–∞–ø–∏—Å–µ–π)</td>
            </tr>
            <tr>
                <td>High Load / DDoS</td>
                <td><code>256mb+</code></td>
            </tr>
        </table>
    </div>

    <div id="files" class="card">
        <h2>üìÇ –®–∞–≥ 2: –§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã</h2>
        <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É <code>/js_challenge_lite/</code>.</p>

        <h3>1. inline_check_lite.php <span class="badge b-blue">–Ø–¥—Ä–æ</span></h3>
        <p>–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç. –†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ. –ï—Å–ª–∏ API –≤—ã–∫–ª—é—á–µ–Ω, –±–ª–æ–∫–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ PHP. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω ‚Äî —à–ª–µ—Ç –∫–æ–º–∞–Ω–¥—ã –≤ API.</p>

        <h3>2. redis-bot_admin.php <span class="badge b-green">–ê–¥–º–∏–Ω–∫–∞</span></h3>
        <p>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –õ–æ–≥–∏–Ω/–ü–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: <code>info@murkir.pp.ua</code>.</p>
        
        <h3>3. iptables.php <span class="badge b-red">API –ë–∞–Ω (PRO)</span></h3>
        <p>–°–∫—Ä–∏–ø—Ç-–º–æ—Å—Ç –º–µ–∂–¥—É PHP –∏ Linux Iptables. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã "–ó–∞–±–∞–Ω–∏—Ç—å/–†–∞–∑–±–∞–Ω–∏—Ç—å". –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç IPv4 –∏ IPv6.</p>
        
        <h3>4. cleanup.php <span class="badge b-purple">–û—á–∏—Å—Ç–∫–∞ (PRO)</span></h3>
        <p>–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ CRON. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç Redis –Ω–∞ –∏—Å—Ç–µ–∫—à–∏–µ –±–∞–Ω—ã –∏ –¥–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤ Iptables —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å IP.</p>

        <h3>5. settings.php <span class="badge b-orange">–ö–æ–Ω—Ñ–∏–≥</span></h3>
        <p>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ API (–∫–ª—é—á–∏, –ª–∏–º–∏—Ç—ã –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏).</p>
    </div>

    <div id="install" class="card">
        <h2>üõ†Ô∏è –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–∞–π—Ç—É</h2>
        
        <h4>–°–ø–æ—Å–æ–± –ê: –ß–µ—Ä–µ–∑ index.php (–ü—Ä–æ—Å—Ç–æ–π)</h4>
        <p>–í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É –≤ <strong>—Å–∞–º—ã–π –≤–µ—Ä—Ö</strong> —Ñ–∞–π–ª–∞ <code>index.php</code>:</p>
        <pre>require_once $_SERVER['DOCUMENT_ROOT'] . '/js_challenge_lite/inline_check_lite.php';</pre>

        <h4>–°–ø–æ—Å–æ–± –ë: –ß–µ—Ä–µ–∑ PHP-FPM (–î–ª—è –ø—Ä–æ—Ñ–∏)</h4>
        <p>–í –∫–æ–Ω—Ñ–∏–≥ –ø—É–ª–∞ (<code>/etc/php/8.3/fpm/pool.d/www.conf</code>):</p>
        <pre>php_admin_value[auto_prepend_file] = "/home/kinoprostor/dj-x.info/js_challenge_lite/inline_check_lite.php"</pre>
    </div>

    <div id="api" class="card" style="border-color: var(--danger);">
        <h2 style="border-color: var(--danger);">üî• –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PRO —Ä–µ–∂–∏–º–∞ (Sudoers)</h2>
        <p>–ß—Ç–æ–±—ã PHP –º–æ–≥ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–∞–µ—Ä–≤–æ–ª–æ–º, –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ <code>/etc/sudoers.d/</code>.</p>
        
        <div class="alert alert-danger">
            <strong>–í–Ω–∏–º–∞–Ω–∏–µ!</strong> –≠—Ç–æ –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è PRO —Ä–µ–∂–∏–º–∞ (Hard Ban). –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —à–∞–≥ –∏ –æ—Å—Ç–∞–≤—å—Ç–µ <code>'api_enabled' => false</code>.
        </div>

        <h4>1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –ø—Ä–∞–≤–∏–ª</h4>
        <pre>sudo nano /etc/sudoers.d/iptables</pre>

        <h4>2. –í—Å—Ç–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ê–ª–∏–∞—Å—ã)</h4>
        <p>–≠—Ç–æ—Ç –∫–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã:</p>
        <pre>
# –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥ (Aliases)
Cmnd_Alias IPTABLES_IPV4 = /sbin/iptables -C INPUT *, /sbin/iptables -I INPUT *, /sbin/iptables -D INPUT *
Cmnd_Alias IPTABLES_IPV6 = /sbin/ip6tables -C INPUT *, /sbin/ip6tables -I INPUT *, /sbin/ip6tables -D INPUT *
Cmnd_Alias IPTABLES_MISC = /sbin/iptables-save, /usr/sbin/iptables-save, /sbin/ip6tables-save, /usr/sbin/ip6tables-save, /sbin/iptables -L*, /sbin/ip6tables -L*

# –ü—Ä–∞–≤–∞ –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (www-data)
www-data ALL=(ALL) NOPASSWD: IPTABLES_IPV4, IPTABLES_IPV6, IPTABLES_MISC
        </pre>

        <h4>3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ (–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û)</h4>
        <p>–ë–µ–∑ —ç—Ç–æ–≥–æ sudo –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç:</p>
        <pre>
sudo chown root:root /etc/sudoers.d/iptables
sudo chmod 0440 /etc/sudoers.d/iptables
        </pre>
        
        <h4>4. –í–∫–ª—é—á–∏—Ç–µ API –≤ –∫–æ–Ω—Ñ–∏–≥–∞—Ö</h4>
        <p>–í —Ñ–∞–π–ª–∞—Ö <code>inline_check_lite.php</code> –∏ <code>redis-bot_admin.php</code> —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ <code>'api_enabled' => true</code> –∏ —É–∫–∞–∂–∏—Ç–µ <code>api_key</code> (–∏–∑ settings.php).</p>
    </div>

    <div id="cron" class="card" style="border-color: var(--purple);">
        <h2 style="color:var(--purple); border-color: var(--purple);">üîÑ –®–∞–≥ 5: –ê–≤—Ç–æ-–æ—á–∏—Å—Ç–∫–∞ (CRON)</h2>
        <p>–í PRO —Ä–µ–∂–∏–º–µ (—Å API) —ç—Ç–æ <strong>–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ</strong>. –ò–Ω–∞—á–µ –±–∞–Ω—ã –≤ iptables –æ—Å—Ç–∞–Ω—É—Ç—Å—è –Ω–∞–≤–µ—á–Ω–æ.</p>
        
        <p>1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫—Ä–æ–Ω: <code>crontab -e</code></p>
        <p>2. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É (–í–∞—à –ø—É—Ç—å):</p>
        <pre>*/3 * * * * php /home/kinoprostor/dj-x.info/js_challenge_lite/cleanup.php > /dev/null 2>&1</pre>
    </div>

    <footer>
        MurKir Security Documentation | 2026 ¬© <br>
        Optimized for High Load & DDoS Protection
    </footer>
</div>

</body>
</html>
